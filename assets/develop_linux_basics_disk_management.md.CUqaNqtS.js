import{_ as i,c as a,o as n,ae as h}from"./chunks/framework.BHrE6nLq.js";const t="/images/linux/sdb.png",y=JSON.parse('{"title":"Linux 磁盘管理","description":"","frontmatter":{},"headers":[],"relativePath":"develop/linux/basics/disk_management.md","filePath":"develop/linux/basics/disk_management.md"}'),l={name:"develop/linux/basics/disk_management.md"};function k(p,s,e,F,d,r){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="linux-磁盘管理" tabindex="-1">Linux 磁盘管理 <a class="header-anchor" href="#linux-磁盘管理" aria-label="Permalink to &quot;Linux 磁盘管理&quot;">​</a></h1><h2 id="_1-介绍" tabindex="-1">1. 介绍 <a class="header-anchor" href="#_1-介绍" aria-label="Permalink to &quot;1. 介绍&quot;">​</a></h2><p>在 Ubuntu 中，磁盘管理是系统维护和数据存储的核心任务之一。需掌握创建和调整分区、挂载文件系统以及进行磁盘监控。此外，Ubuntu 还支持<strong>逻辑卷管理（LVM）</strong>。</p><h2 id="_2-查看磁盘信息" tabindex="-1">2. 查看磁盘信息 <a class="header-anchor" href="#_2-查看磁盘信息" aria-label="Permalink to &quot;2. 查看磁盘信息&quot;">​</a></h2><h3 id="_2-1-使用-lsblk" tabindex="-1">2.1 使用 <code>lsblk</code> <a class="header-anchor" href="#_2-1-使用-lsblk" aria-label="Permalink to &quot;2.1 使用 \`lsblk\`&quot;">​</a></h3><ul><li><code>lsblk</code> 命令用于列出所有块设备及其挂载点</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@ubuntu:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lsblk</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      MAJ:MIN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SIZE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TYPE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MOUNTPOINTS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                         8:0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  40G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> disk</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├─sda1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      8:1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   1M</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> part</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├─sda2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      8:2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   2G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> part</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /boot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└─sda3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      8:3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  38G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> part</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  └─ubuntu--vg-ubuntu--lv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 252:0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  19G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  /</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sr0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                        11:0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   3G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rom</span></span></code></pre></div><ul><li><code>lsblk</code> 输出表头</li></ul><table tabindex="0"><thead><tr><th>列名</th><th>含义</th></tr></thead><tbody><tr><td><strong>NAME</strong></td><td>设备名称（磁盘、分区或逻辑卷）。</td></tr><tr><td><strong>MAJ:MIN</strong></td><td>设备的主次编号（用于标识设备）。</td></tr><tr><td><strong>RM</strong></td><td>是否为可移动设备（1 表示可移动，如 U 盘，0 表示固定硬盘）。</td></tr><tr><td><strong>SIZE</strong></td><td>设备或分区的大小。</td></tr><tr><td><strong>RO</strong></td><td>设备是否为只读（1 表示只读，0 表示可写）。</td></tr><tr><td><strong>TYPE</strong></td><td>设备类型（<code>disk</code> 代表物理磁盘，<code>part</code> 代表分区，<code>lvm</code> 代表 LVM 逻辑卷，<code>rom</code> 代表光驱设备）。</td></tr><tr><td><strong>MOUNTPOINTS</strong></td><td>该设备或分区的挂载点（如 <code>/</code>、<code>/boot</code> 等）。</td></tr></tbody></table><h3 id="_2-2-使用-fdisk" tabindex="-1">2.2 使用 <code>fdisk</code> <a class="header-anchor" href="#_2-2-使用-fdisk" aria-label="Permalink to &quot;2.2 使用 \`fdisk\`&quot;">​</a></h3><p><code>fdisk</code> 命令可以列出磁盘的分区表。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@ubuntu:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fdisk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Disk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sda:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 40</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GiB,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 42949672960</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 83886080</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sectors</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Disk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> model:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> VMware</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Virtual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> S</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Units:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sectors</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 512</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 512</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sector</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">I/O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (minimum/optimal): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Disklabel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gpt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Disk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> identifier:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> D8A88619-DBE1-4A0B-B49A-9F30B743E08E</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       Start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      End</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Sectors</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Size</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Type</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/dev/sda1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     2048</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     4095</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     2048</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   1M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BIOS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> boot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/dev/sda2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     4096</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  4198399</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  4194304</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   2G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filesystem</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/dev/sda3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  4198400</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 83884031</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 79685632</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  38G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filesystem</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Disk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/mapper/ubuntu--vg-ubuntu--lv:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 19</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GiB,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20396900352</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 39837696</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sectors</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Units:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sectors</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 512</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 512</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sector</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (logical/physical): 512 bytes / 512 bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">I/O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (minimum/optimal): 512 bytes / 512 bytes</span></span></code></pre></div><h3 id="_2-3-使用-df" tabindex="-1">2.3 使用 <code>df</code> <a class="header-anchor" href="#_2-3-使用-df" aria-label="Permalink to &quot;2.3 使用 \`df\`&quot;">​</a></h3><p><code>df</code> 命令用于查看磁盘使用情况。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@ubuntu:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> df</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Filesystem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                         Size</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Used</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Avail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Use%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mounted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmpfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                              387M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  1.6M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  386M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   1%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /run</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/dev/mapper/ubuntu--vg-ubuntu--lv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   19G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  6.3G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   12G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  36%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmpfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                              1.9G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  1.9G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   0%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/shm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmpfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                              5.0M</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  5.0M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   0%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /run/lock</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/dev/sda2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                          2.0G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   96M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  1.7G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   6%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /boot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmpfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                              387M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   12K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  387M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   1%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /run/user/1000</span></span></code></pre></div><h2 id="_3-磁盘分区" tabindex="-1">3. 磁盘分区 <a class="header-anchor" href="#_3-磁盘分区" aria-label="Permalink to &quot;3. 磁盘分区&quot;">​</a></h2><p>VMware 添加 10GB 硬盘，用于分区测试。系统默认识别为 sdb。</p><p><img src="`+t+`" alt="sdb"></p><h3 id="_3-1-使用-fdisk-进行分区" tabindex="-1">3.1 使用 <code>fdisk</code> 进行分区 <a class="header-anchor" href="#_3-1-使用-fdisk-进行分区" aria-label="Permalink to &quot;3.1 使用 \`fdisk\` 进行分区&quot;">​</a></h3><ol><li>选择磁盘（如 <code>/dev/sdb</code>）</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fdisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span></code></pre></div><ol start="2"><li>在 <code>fdisk</code> 交互界面中输入以下命令： <ul><li><code>n</code>：新建分区</li><li><code>p</code>：创建主分区</li><li><code>w</code>：保存更改并退出</li></ul></li></ol><h3 id="_3-2-使用-parted-进行-gpt-分区" tabindex="-1">3.2 使用 <code>parted</code> 进行 GPT 分区 <a class="header-anchor" href="#_3-2-使用-parted-进行-gpt-分区" aria-label="Permalink to &quot;3.2 使用 \`parted\` 进行 GPT 分区&quot;">​</a></h3><p>parted 是专为 GPT 设计的，建议使用 <code>parted</code>。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@ubuntu:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> parted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[sudo] password </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ubuntu:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Parted</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Using</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Welcome</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Parted!</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;help&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> view</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mklabel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gpt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkpart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> primary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100%</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">quit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Information:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> You</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> may</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> need</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如需创建多分区使用如下方式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkpart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> primary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10GB</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 第一个分区，大小为 10GB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkpart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> primary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10GB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25GB</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 第二个分区，大小为 15GB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkpart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> primary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25GB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100%</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 第三个分区，使用剩余空间</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除分区</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@ubuntu:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> parted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Parted</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Using</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Welcome</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Parted!</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;help&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> view</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">quit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Information:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> You</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> may</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> need</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab.</span></span></code></pre></div><h2 id="_4-格式化分区" tabindex="-1">4. 格式化分区 <a class="header-anchor" href="#_4-格式化分区" aria-label="Permalink to &quot;4. 格式化分区&quot;">​</a></h2><p>在分区后，需要格式化文件系统。</p><h3 id="_4-1-格式化为-ext4-推荐使用-ext4" tabindex="-1">4.1 格式化为 ext4（推荐使用 ext4） <a class="header-anchor" href="#_4-1-格式化为-ext4-推荐使用-ext4" aria-label="Permalink to &quot;4.1 格式化为 ext4（推荐使用 ext4）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@ubuntu:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mke2fs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.47.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (5-Feb-2023)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Creating</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filesystem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2620928</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4k</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blocks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 655360</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Filesystem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> UUID:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eefcb042-e8cd-44a0-ba05-bf52ecc82963</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Superblock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backups</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stored</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blocks:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        32768,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 98304,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 163840,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 229376,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 294912,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 819200,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 884736,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1605632</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Allocating</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tables:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> done</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Writing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tables:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> done</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Creating</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (16384 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">blocks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Writing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> superblocks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filesystem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> accounting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> information:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> done</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看文件系统</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@ubuntu:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lsblk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      FSTYPE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      FSVER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            LABEL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                           UUID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                   FSAVAIL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FSUSE%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MOUNTPOINTS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sda</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├─sda1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├─sda2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                    ext4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                              8db427dc-dd23-4b75-bdc0-384f614c8df7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      1.7G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     5%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /boot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└─sda3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                    LVM2_member</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LVM2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 001</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                         otg3H2-E85w-7xp2-Ktsx-pE3Q-sIai-2LHQz4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  └─ubuntu--vg-ubuntu--lv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                              e7140295-9f9e-42ed-8acc-6a4f2e2579df</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     11.3G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    34%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sdb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└─sdb1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                    ext4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                              eefcb042-e8cd-44a0-ba05-bf52ecc82963</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sr0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                       iso9660</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Joliet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Extension</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Ubuntu-Server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 24.04.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> amd64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2025-02-16-22-49-22-00</span></span></code></pre></div><h3 id="_4-2-格式化为-ntfs-适用于跨平台存储" tabindex="-1">4.2 格式化为 NTFS（适用于跨平台存储） <a class="header-anchor" href="#_4-2-格式化为-ntfs-适用于跨平台存储" aria-label="Permalink to &quot;4.2 格式化为 NTFS（适用于跨平台存储）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkfs.ntfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb1</span></span></code></pre></div><h3 id="_4-3-格式化为-exfat-适用于大文件存储" tabindex="-1">4.3 格式化为 exFAT（适用于大文件存储） <a class="header-anchor" href="#_4-3-格式化为-exfat-适用于大文件存储" aria-label="Permalink to &quot;4.3 格式化为 exFAT（适用于大文件存储）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkfs.exfat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb1</span></span></code></pre></div><h2 id="_5-挂载与卸载磁盘" tabindex="-1">5. 挂载与卸载磁盘 <a class="header-anchor" href="#_5-挂载与卸载磁盘" aria-label="Permalink to &quot;5. 挂载与卸载磁盘&quot;">​</a></h2><h3 id="_5-1-挂载磁盘" tabindex="-1">5.1 挂载磁盘 <a class="header-anchor" href="#_5-1-挂载磁盘" aria-label="Permalink to &quot;5.1 挂载磁盘&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 创建挂载点</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mydisk</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 挂载分区</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\`\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成 UUID</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blkid /dev/sdb1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/dev/sdb1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> UUID=&quot;eefcb042-e8cd-44a0-ba05-bf52ecc82963&quot; BLOCK_SIZE=&quot;4096&quot; TYPE=&quot;ext4&quot; PARTLABEL=&quot;primary&quot; PARTUUID=&quot;d7aac338-29c0-4f84-8e3d-faebb6d3de24&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim /etc/fstab</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UUID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">eefcb042-e8cd-44a0-ba05-bf52ecc82963 </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/mnt/mydisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext4 defaults </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaults：使用系统的默认挂载选项。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">0：表示这个分区在备份时不会被</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dump 工具备份。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2：表示分区在启动时会被挂载，并且其挂载顺序排在根分区之后。根分区通常是</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1。</span></span></code></pre></div><h3 id="_5-2-卸载磁盘" tabindex="-1">5.2 卸载磁盘 <a class="header-anchor" href="#_5-2-卸载磁盘" aria-label="Permalink to &quot;5.2 卸载磁盘&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mydisk</span></span></code></pre></div><h2 id="_6-逻辑卷管理-lvm" tabindex="-1">6. 逻辑卷管理（LVM） <a class="header-anchor" href="#_6-逻辑卷管理-lvm" aria-label="Permalink to &quot;6. 逻辑卷管理（LVM）&quot;">​</a></h2><p>LVM 是 Linux 系统中用于管理磁盘的工具，它允许你对磁盘空间进行动态分配和管理，可以方便地进行分区、扩展和缩小卷组（VG）、逻辑卷（LV）等操作。</p><h3 id="_6-2-创建-lvm-逻辑卷" tabindex="-1">6.2 创建 LVM 逻辑卷 <a class="header-anchor" href="#_6-2-创建-lvm-逻辑卷" aria-label="Permalink to &quot;6.2 创建 LVM 逻辑卷&quot;">​</a></h3><ol><li><strong>创建物理卷（PV）</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建分区</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> parted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mklabel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gpt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkpart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> primary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100%</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建物理卷</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pvcreate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb1</span></span></code></pre></div><ol start="2"><li><strong>创建卷组（VG）</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vgcreate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_vg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb1</span></span></code></pre></div><ol start="3"><li><strong>创建逻辑卷（LV）</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建一个大小为 2GB 的逻辑卷（LV）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lvcreate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_lv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my_vg</span></span></code></pre></div><ol start="4"><li><strong>格式化逻辑卷</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 格式化逻辑卷为 ext4 文件系统</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/my_vg/my_lv</span></span></code></pre></div><ol start="5"><li><strong>挂载逻辑卷</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建挂载点</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/lvm_storage</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 挂载逻辑卷到 /mnt/lvm_storage</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/my_vg/my_lv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/lvm_storage</span></span></code></pre></div><h3 id="_6-3-扩展-lvm-逻辑卷" tabindex="-1">6.3 扩展 LVM 逻辑卷 <a class="header-anchor" href="#_6-3-扩展-lvm-逻辑卷" aria-label="Permalink to &quot;6.3 扩展 LVM 逻辑卷&quot;">​</a></h3><ol><li><strong>扩展逻辑卷大小</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 扩展逻辑卷大小 3GB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lvextend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +3G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/my_vg/my_lv</span></span></code></pre></div><ol start="2"><li><strong>调整文件系统</strong></li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 调整 ext4 文件系统以适应扩展后的逻辑卷</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resize2fs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/my_vg/my_lv</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果物理卷（PV）空间不足，向卷组（VG）添加新的物理卷（PV）即可</p></div>`,57)]))}const C=i(l,[["render",k]]);export{y as __pageData,C as default};
