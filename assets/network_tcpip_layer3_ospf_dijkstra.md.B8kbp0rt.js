import{_ as i,c as a,o as n,ae as h}from"./chunks/framework.BHrE6nLq.js";const g=JSON.parse('{"title":"Dijkstra ç®—æ³•","description":"","frontmatter":{},"headers":[],"relativePath":"network/tcpip/layer3/ospf_dijkstra.md","filePath":"network/tcpip/layer3/ospf_dijkstra.md"}'),t={name:"network/tcpip/layer3/ospf_dijkstra.md"};function p(l,s,k,e,E,r){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="dijkstra-ç®—æ³•" tabindex="-1">Dijkstra ç®—æ³• <a class="header-anchor" href="#dijkstra-ç®—æ³•" aria-label="Permalink to &quot;Dijkstra ç®—æ³•&quot;">â€‹</a></h1><h2 id="_1-ä»€ä¹ˆæ˜¯-dijkstra-ç®—æ³•" tabindex="-1">1. ä»€ä¹ˆæ˜¯ Dijkstra ç®—æ³•ï¼Ÿ <a class="header-anchor" href="#_1-ä»€ä¹ˆæ˜¯-dijkstra-ç®—æ³•" aria-label="Permalink to &quot;1. ä»€ä¹ˆæ˜¯ Dijkstra ç®—æ³•ï¼Ÿ&quot;">â€‹</a></h2><p>Dijkstra ç®—æ³•ç”±è·å…°è®¡ç®—æœºç§‘å­¦å®¶ <strong>Edsger W. Dijkstra</strong> åœ¨ 1956 å¹´æå‡ºï¼Œæ—¨åœ¨è§£å†³ <strong>å•æºæœ€çŸ­è·¯å¾„</strong> é—®é¢˜ã€‚è¯¥ç®—æ³•å¹¿æ³›åº”ç”¨äºè·¯ç”±ã€å›¾åƒå¤„ç†ç­‰é¢†åŸŸã€‚</p><h2 id="_2-dijkstra-åŸºæœ¬åŸç†" tabindex="-1">2. Dijkstra åŸºæœ¬åŸç† <a class="header-anchor" href="#_2-dijkstra-åŸºæœ¬åŸç†" aria-label="Permalink to &quot;2. Dijkstra åŸºæœ¬åŸç†&quot;">â€‹</a></h2><h3 id="ç”¨ååœ°é“çš„æ–¹å¼æ¯”å–»" tabindex="-1">ç”¨ååœ°é“çš„æ–¹å¼æ¯”å–» <a class="header-anchor" href="#ç”¨ååœ°é“çš„æ–¹å¼æ¯”å–»" aria-label="Permalink to &quot;ç”¨ååœ°é“çš„æ–¹å¼æ¯”å–»&quot;">â€‹</a></h3><p>æ‰¾åˆ°ä»ä½ å®¶é™„è¿‘çš„åœ°é“ç«™åˆ°æŸä¸ªç›®çš„åœ°çš„<strong>æœ€å¿«è·¯çº¿</strong>ã€‚Dijkstra ç®—æ³•é€»è¾‘å¦‚ä¸‹ï¼š</p><ol><li><p><strong>åˆå§‹åŒ–</strong>ï¼š</p><ul><li>ä½ æ‹¿åˆ°äº†ä¸€å¼ åœ°é“åœ°å›¾ï¼Œä¸Šé¢æ ‡æœ‰æ‰€æœ‰åœ°é“ç«™ï¼ˆèŠ‚ç‚¹ï¼‰å’Œå®ƒä»¬ä¹‹é—´çš„çº¿è·¯ï¼ˆè¾¹ï¼‰ï¼Œæ¯æ¡çº¿è·¯çš„<strong>è¡Œè½¦æ—¶é—´</strong>ï¼ˆæƒé‡ï¼‰ã€‚</li><li>ä½ æŠŠè‡ªå·±æ‰€åœ¨çš„åœ°é“ç«™ï¼ˆèµ·ç‚¹ï¼‰çš„æ—¶é—´æ ‡è®°ä¸º <code>0</code>ï¼Œå…¶ä»–æ‰€æœ‰ç«™ç‚¹çš„æ—¶é—´æš‚æ—¶æ ‡è®°ä¸º <code>âˆ</code>ï¼Œè¡¨ç¤ºè¿˜ä¸çŸ¥é“æ€ä¹ˆè¿‡å»ã€‚</li></ul></li><li><p><strong>é€‰æ‹©å½“å‰æœ€è¿‘çš„ç«™ç‚¹</strong>ï¼š</p><ul><li>ä½ æŸ¥çœ‹æ‰€æœ‰å·²ç»è®°å½•çš„ç«™ç‚¹ï¼Œæ‰¾åˆ°ä¹˜è½¦æ—¶é—´æœ€çŸ­çš„é‚£ä¸ªï¼Œæ¯”å¦‚ <code>A</code>ï¼ˆä½ å½“å‰çš„ç«™ç‚¹ï¼‰ã€‚</li><li>ä½ çœ‹çœ‹ä» <code>A</code> ç›´æ¥å¯ä»¥åˆ°è¾¾å“ªäº›ç«™ï¼Œæ¯”å¦‚ <code>B</code> å’Œ <code>C</code>ã€‚</li></ul></li><li><p><strong>æ›´æ–°æœ€å¿«è·¯çº¿</strong>ï¼š</p><ul><li>è®¡ç®— <code>A -&gt; B</code> å’Œ <code>A -&gt; C</code> æ‰€éœ€çš„æ—¶é—´ã€‚</li><li>å¦‚æœå‘ç°å»æŸä¸ªç«™çš„æ–°è·¯çº¿æ¯”ä¹‹å‰è®°å½•çš„æ›´å¿«ï¼Œå°±æ›´æ–°å®ƒçš„æœ€å¿«æ—¶é—´ã€‚</li><li>ä¾‹å¦‚ï¼Œå¦‚æœ <code>A -&gt; B</code> éœ€è¦ <strong>1 åˆ†é’Ÿ</strong>ï¼Œ<code>A -&gt; C</code> éœ€è¦ <strong>4 åˆ†é’Ÿ</strong>ï¼Œé‚£ä¹ˆæ›´æ–°åˆ° <code>B</code> çš„æ—¶é—´ä¸º <code>1</code> åˆ†é’Ÿï¼Œåˆ°<code>C</code> çš„æ—¶é—´ä¸º <code>4</code> åˆ†é’Ÿã€‚</li></ul></li><li><p><strong>ç»§ç»­æ‰©å±•</strong>ï¼š</p><ul><li>ä½ å†æ¬¡é€‰æ‹©å½“å‰å·²çŸ¥æœ€å¿«çš„ç«™ç‚¹ï¼Œæ¯”å¦‚ <code>B</code>ã€‚</li><li>ä½ çœ‹çœ‹ <code>B</code> å¯ä»¥åˆ°è¾¾å“ªé‡Œï¼Œæ¯”å¦‚ <code>C</code> å’Œ <code>D</code>ï¼Œç„¶åå°è¯•æ›´æ–° <code>C</code> å’Œ <code>D</code> çš„æœ€å¿«æ—¶é—´ã€‚</li><li>ä¾‹å¦‚ï¼Œå¦‚æœ <code>B -&gt; C</code> éœ€è¦ <strong>2 åˆ†é’Ÿ</strong>ï¼Œé‚£ä¹ˆ <code>A -&gt; B -&gt; C</code> æ€»å…±æ˜¯ <code>1 + 2 = 3</code> åˆ†é’Ÿï¼Œæ¯” <code>A -&gt; C</code> ç›´æ¥è¿‡å»çš„ <strong>4 åˆ†é’Ÿ</strong> æ›´å¿«ï¼Œæ‰€ä»¥æ›´æ–° <code>C</code> çš„æ—¶é—´ä¸º <strong>3 åˆ†é’Ÿ</strong>ï¼Œæœ€çŸ­è·¯å¾„ä¸º <code>A -&gt; B -&gt; C</code>ã€‚</li></ul></li><li><p><strong>é‡å¤è¿™ä¸ªè¿‡ç¨‹</strong>ï¼Œæ¯æ¬¡é€‰æ‹©å½“å‰å·²çŸ¥æœ€å¿«çš„ç«™ç‚¹å»æ‰©å±•ï¼Œç›´åˆ°æ‰€æœ‰çš„ç«™ç‚¹éƒ½è®¡ç®—å®Œæ¯•ã€‚</p></li></ol><h2 id="_3-ä»£ç å®ç°" tabindex="-1">3. ä»£ç å®ç° <a class="header-anchor" href="#_3-ä»£ç å®ç°" aria-label="Permalink to &quot;3. ä»£ç å®ç°&quot;">â€‹</a></h2><p>ä¸‹é¢æ˜¯ Python ç‰ˆæœ¬çš„ Dijkstra ç®—æ³•ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> heapq</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> dijkstra</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(graph, start):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # åˆå§‹åŒ–ï¼šæ‰€æœ‰ç‚¹çš„æœ€çŸ­è·ç¦»è®¾ä¸ºæ— ç©·å¤§ï¼Œèµ·ç‚¹è®¾ä¸º 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    shortest_paths </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {node: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;inf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> graph}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    shortest_paths[start] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    pq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, start)]  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (å½“å‰å·²çŸ¥çš„æœ€çŸ­è·ç¦», èŠ‚ç‚¹)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pq:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        current_distance, current_node </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> heapq.heappop(pq)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å–å‡ºå½“å‰è·ç¦»æœ€çŸ­çš„èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> current_distance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shortest_paths[current_node]:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            continue</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # å¦‚æœå½“å‰èŠ‚ç‚¹çš„è·ç¦»å·²ç»è¢«æ›´æ–°è¿‡ï¼Œå°±è·³è¿‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> neighbor, weight </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> graph[current_node].items():</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            distance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> current_distance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> weight  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è®¡ç®—ä»å½“å‰èŠ‚ç‚¹åˆ°é‚»å±…çš„è·ç¦»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shortest_paths[neighbor]:  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å‘ç°æ›´çŸ­çš„è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                shortest_paths[neighbor] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> distance  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ›´æ–°è·ç¦»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                heapq.heappush(pq, (distance, neighbor))  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŠŠè¿™ä¸ªé‚»å±…åŠ å…¥é˜Ÿåˆ—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shortest_paths</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    # åœ°é“æ‹“æ‰‘å›¾</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         A</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       /   </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      1      4</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     /        </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    B ---2--- C</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     \\       /</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      5     1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       \\   /</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         D</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;&#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‹“æ‰‘å›¾ç”¨ json è¡¨ç¤º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;D&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;D&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;D&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è®¡ç®—ä» &#39;A&#39; å¼€å§‹çš„æœ€çŸ­è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">shortest_paths </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dijkstra(graph, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(shortest_paths)</span></span></code></pre></div><h2 id="_4-ä¸ºä»€ä¹ˆä½¿ç”¨-heapq" tabindex="-1">4. ä¸ºä»€ä¹ˆä½¿ç”¨ <code>heapq</code>ï¼Ÿ <a class="header-anchor" href="#_4-ä¸ºä»€ä¹ˆä½¿ç”¨-heapq" aria-label="Permalink to &quot;4. ä¸ºä»€ä¹ˆä½¿ç”¨ \`heapq\`ï¼Ÿ&quot;">â€‹</a></h2><p>åœ¨ Dijkstra ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦<strong>ä¸æ–­æ‰¾åˆ°å½“å‰æœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹</strong>å¹¶<strong>æ›´æ–°é‚»å±…çš„è·¯å¾„</strong>ï¼Œè¿™é‡Œå°±ç”¨åˆ°äº† <code>heapq</code>ï¼ˆæœ€å°å †ï¼‰ã€‚</p><ul><li><strong><code>heapq.heappop(pq)</code></strong>ï¼šæ¯æ¬¡å–å‡ºå½“å‰å·²çŸ¥çš„æœ€çŸ­è·¯å¾„èŠ‚ç‚¹ã€‚</li><li><strong><code>heapq.heappush(pq, (distance, neighbor))</code></strong>ï¼šå‘ç°æ›´çŸ­è·¯å¾„æ—¶ï¼ŒæŠŠ <code>(æ–°çš„è·ç¦», é‚»å±…)</code> æ”¾å…¥å †ã€‚</li></ul><h3 id="heapq-çš„ä½œç”¨ç¤ºä¾‹" tabindex="-1"><code>heapq</code> çš„ä½œç”¨ç¤ºä¾‹ <a class="header-anchor" href="#heapq-çš„ä½œç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;\`heapq\` çš„ä½œç”¨ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;D&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">heapq.heapify(pq)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è®©å®ƒå˜æˆæœ€å°å †</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(heapq.heappop(pq))  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å–å‡º (1, &#39;B&#39;)ï¼Œå› ä¸º 1 æ˜¯æœ€å°çš„</span></span></code></pre></div><h3 id="ä¸ºä»€ä¹ˆ-heapq-æ›´å¿«" tabindex="-1">ä¸ºä»€ä¹ˆ <code>heapq</code> æ›´å¿«ï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆ-heapq-æ›´å¿«" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆ \`heapq\` æ›´å¿«ï¼Ÿ&quot;">â€‹</a></h3><p>å¦‚æœç”¨æ™®é€šåˆ—è¡¨æ‰¾æœ€çŸ­è·¯å¾„ï¼š</p><ul><li><strong>æ‰¾æœ€å°å€¼</strong>ï¼šéœ€è¦ <code>O(n)</code> éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚</li><li><strong>æ›´æ–°åˆ—è¡¨</strong>ï¼šæ’å…¥æ–°è·¯å¾„å¯èƒ½ä¹Ÿè¦ <code>O(n)</code>ã€‚</li></ul><p>ä½† <code>heapq</code> ç»´æŠ¤<strong>æœ€å°å †</strong>ï¼Œä¿è¯å †é¡¶å§‹ç»ˆæ˜¯æœ€çŸ­è·¯å¾„ï¼Œæ—¶é—´å¤æ‚åº¦ï¼š</p><ul><li><strong>å–æœ€å°å€¼ï¼ˆheappopï¼‰</strong>ï¼š<code>O(log n)</code>ã€‚</li><li><strong>æ’å…¥æ–°è·¯å¾„ï¼ˆheappushï¼‰</strong>ï¼š<code>O(log n)</code>ã€‚</li></ul><p>æ‰€ä»¥ Dijkstra ç®—æ³•çš„æ€»å¤æ‚åº¦æ˜¯ <code>O((V + E) log V)</code>ï¼Œæ¯”æ™®é€šå®ç°å¿«å¾ˆå¤šï¼ğŸš€</p><h2 id="_5-ç»“æœè§£é‡Š" tabindex="-1">5. ç»“æœè§£é‡Š <a class="header-anchor" href="#_5-ç»“æœè§£é‡Š" aria-label="Permalink to &quot;5. ç»“æœè§£é‡Š&quot;">â€‹</a></h2><p>æ‰§è¡Œåï¼Œä»£ç ä¼šè¾“å‡ºä» <code>A</code> åˆ°å…¶ä»–ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;D&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><code>A -&gt; B</code>ï¼šæœ€çŸ­è·¯å¾„æ˜¯ <code>1</code> åˆ†é’Ÿ</li><li><code>A -&gt; C</code>ï¼šæœ€çŸ­è·¯å¾„æ˜¯ <code>A -&gt; B -&gt; C</code>ï¼Œéœ€è¦ <code>3</code> åˆ†é’Ÿ</li><li><code>A -&gt; D</code>ï¼šæœ€çŸ­è·¯å¾„æ˜¯ <code>A -&gt; B -&gt; C -&gt; D</code>ï¼Œéœ€è¦ <code>4</code> åˆ†é’Ÿ</li></ul>`,25)]))}const o=i(t,[["render",p]]);export{g as __pageData,o as default};
